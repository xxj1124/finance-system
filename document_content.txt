财务系统分析与设计
 系统分析与设计
愿景
图一  愿景
业务用例图
图二 业务用例图
业务序列图
1.现状业务序列图
2.改进业务序列图
系统用例图 
用例规约
企业初始化用例规约
采购管理用例规约
销售管理用例规约
费用管理用例规约 
会计核算与过账用例规约
财务报表生成用例规约
预算与审批用例规约
税务处理与申报用例规约
分析类图
分析序列图
采购业务分析序列图
销售业务分析序列图
会计核算分析序列图
收付款分析序列图
费用报销分析序列图
预算审批分析序列图
税务申报与报表生成分析序列图
数据库结构
题    目：	财务管理系统
学生学号：	1602230103
学生姓名：	杨深
指导教师：	毕文杰
学    院：	商学院
专业班级：	信管2301
项目	内容
用例编号	UC1
用例名	企业初始化
执行者	财务人员
前置条件	系统安装完成，用户具有管理员权限
后置条件	企业基础信息、会计科目表、会计期间信息已建立并保存
涉众利益	企业希望快速完成系统配置；财务人员希望减少重复初始化步骤
基本路径	1、财务人员登录系统。
2、进入“系统初始化”界面。
3、输入企业名称、注册资金、行业类型、会计期间、币种。
4、选择启用模块（多币种、预算管理等）。
5、系统自动生成标准会计科目表。
6、用户可导入或自定义科目表。
7、系统保存数据并提示初始化完成。
扩展路径	3a. 信息缺失 → 系统提示填写必填项。
5a. 用户取消默认科目表 → 系统要求导入模板。
6a. 导入失败 → 系统记录日志并提示重试。
字段列表	企业名称、注册资金、行业类别、会计期间、币种、默认科目模板
业务规则	企业名称不可重复；注册资金 > 0；会计期间必须连续；默认科目表必须包含现金、银行存款、应收应付等基础科目。
质量需求	初始化过程应在 3 秒内完成；错误提示需中文可读；数据保存成功率 100%。
设计约束	支持 Excel 模板导入科目表；界面布局兼容 PC 与平板端显示。
项目	内容
用例编号	UC2
用例名	采购管理
执行者	财务人员
前置条件	供应商信息完整，银行接口配置正确
后置条件	采购订单、应付账款与会计分录生成并保存
涉众利益	企业希望采购可追溯；财务人员希望付款与账务自动同步
基本路径	1、财务人员在系统中创建采购订单。
2、输入供应商、采购项目、金额、税率、支付方式。
3、系统校验供应商信息与预算余额。
4、系统生成应付账款记录及凭证草稿。
5、财务人员审核后提交付款申请。
6、系统调用银行接口执行付款。
7、银行返回确认信息，系统更新付款状态并自动过账。
扩展路径	3a. 超预算 → 系统阻止保存并提示审批。
6a. 银行接口超时 → 系统记录错误并重试 3 次。
6b. 付款失败 → 系统回滚账务并提示用户。
字段列表	供应商编号、订单编号、项目编号、金额、税率、付款状态、凭证号、操作人
业务规则	采购金额不得超预算；税率按供应商类型自动带入；付款须双重签名；所有凭证需保留电子附件。
质量需求	订单生成响应 < 2 秒；付款确认延迟 ≤ 10 秒；数据一致性 100%
设计约束	系统支持分布式事务管理
项目	内容
用例编号	UC3
用例名	销售管理
执行者	财务人员、销售人员
前置条件	客户信息存在，系统中启用销售模块
后置条件	生成应收  账款记录与销售凭证
涉众利益	客户及时开票、入账，减少坏账风险
基本路径	1、销售人员录入销售订单。
2、系统校验客户信用额度。
3、系统生成应收账款与发票草稿。
4、财务人员审核发票并确认。
5、客户付款后银行系统回传收款确认。
6、系统自动过账并更新客户余额。
扩展路径	2a. 客户信用超限 → 系统发送审批请求给财务经理。
5a. 银行返回失败 → 系统记录日志并标记为“待核对”。
字段列表	客户编号、销售单号、发票号、金额、税率、收款状态、开票日期
业务规则	客户信用额度不得超限；发票号全局唯一；开票日期不得早于订单日期。
质量需求	发票生成时间 < 5 秒；接口调用成功率 ≥ 99.5%。
设计约束	银行回调接口采用异步机制；支持电子发票自动生成。
项目	内容
用例编号	UC4
用例名	员工费用报销
执行者	员工、财务经理
前置条件	员工具备系统账号
后置条件	报销款支付完成，凭证入账
涉众利益	管理层希望费用合规；员工希望审批高效透明
基本路径	1、员工提交电子报销单并上传发票图片。
2、系统校验金额与预算余额。
3、财务经理接收审批请求并审核。
4、审批通过后系统生成付款凭证。
5、系统调用银行接口完成付款。
6、系统自动更新费用报表与预算余额。
扩展路径	2a. 超预算 → 系统提示并进入二级审批。
5a. 银行接口异常 → 系统重试并通知财务人员。
字段列表	报销单号、员工编号、费用类型、金额、审批状态、支付时间、凭证号
业务规则	单笔报销金额 >5000 元需二级审批；同一报销单不可重复提交；所有票据须附凭证。
质量需求	审批响应 < 2 秒；失败重试机制稳定
设计约束	支持移动端审批与 OCR 发票识别。
项目	内容
用例编号	UC5
用例名	会计核算与过账
执行者	财务人员、财务经理
前置条件	已存在分录或凭证
后置条件	分录过账至总账，生成试算平衡表
涉众利益	提高财务核算准确性与实时性
基本路径	1、系统每日汇总各模块分录。
2、财务人员审核凭证合法性。
3、财务经理审批过账。
4、系统更新总账与明细账。
扩展路径	2a. 凭证错误 → 系统提示修改。
4a. 过账失败 → 系统回滚并记录日志。
字段列表	凭证号、分录日期、会计科目、借贷金额、审核状态
业务规则	借贷必须平衡；每日自动平衡检测；过账须经理审批。
质量需求	每次过账事务保证原子性；错误日志必须可追溯
设计约束	支持多币种核算及凭证导入导出功能
项目	内容
用例编号	UC6
用例名	生成财务报表
执行者	财务人员、老板
前置条件	总账数据已生成
后置条件	生成资产负债表、利润表、现金流量表
涉众利益	管理层希望实时掌握财务状况
基本路径	1、财务人员选择报表类型与会计期间。
2、系统汇总总账数据。
3、系统生成报表。
4、财务经理复核并提交。
5、老板查看分析图表。
扩展路径	2a. 数据缺失 → 系统提示重新计算。
4a. 审核不通过 → 退回修改。
字段列表	报表类型、期间、生成日期、数据来源、生成状态
业务规则	报表周期不可重叠；数据需与总账一致；已发布报表不可修改。
质量需求	报表生成时间 < 3 秒；误差率 0%
设计约束	支持 PDF/Excel 导出及可视化分析图表
项目	内容
用例编号	UC7
用例名	预算与审批
执行者	财务经理、老板
前置条件	上一财务周期结束
后置条件	新预算方案生效并存档
涉众利益	保证预算合理、支出合规
基本路径	1. 财务经理创建预算方案
2. 系统计算预算分配
3. 老板审批预算
4. 系统锁定预算并生效
扩展路径	3a. 审批驳回 → 返回修改
字段列表	部门、预算金额、期间、审批状态
业务规则	所有部门预算总额 ≤ 总预算；审批后不可修改
质量需求	预算计算延迟 < 2 秒
设计约束	系统需支持多层级审批流配置
项目	内容
用例编号	UC8
用例名	税务处理与申报
执行者	财务人员、财务经理
前置条件	系统有完整账务与发票数据
后置条件	税务申报表生成并上传税务系统
涉众利益	企业希望合规申报、减少人工错误
基本路径	1、财务人员在系统中生成税务申报表。
2、财务经理审核确认。
3、系统上传申报数据至税务系统。
4、税务系统返回结果。
5、系统归档回执信息。
扩展路径	3a. 网络异常 → 系统自动重试 3 次。
4a. 税务接口异常 → 系统记录错误日志并提示重试。
字段列表	税种、申报期、金额、状态、回执编号
业务规则	税额精确到小数点后两位；申报周期不得跨月；回执必须存档。
质量需求	上传延迟 < 5 秒；错误率 < 0.1%
设计约束	接口符合国家税务总局电子申报规范